version: '3.1'

services:
  # Container do servidor web Ubuntu da aplicação
  php-ubuntu:
    image: slab_php-ubuntu
    build:
      context: php
      dockerfile: ./Dockerfile-ubuntu-dev
    ports:
      - 3000:80
    volumes:
      - ./php/src/:/var/www/html/
      - ./php/src/php.ini:/etc/php/8.1/apache2/php.ini
    depends_on:
      - mysql

  # Container do servidor de banco de dados MySQL
  mysql:
    image: slab_mysql
    build:
      context: mysql
      dockerfile: ./Dockerfile
    ports:
      - 13306:3306